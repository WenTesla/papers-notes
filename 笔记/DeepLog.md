# DeepLog：通过深度学习从系统日志中检测和诊断异常

## 摘要

我们提出DeepLog，一种利用长短期记忆（**LSTM**）的深度神经网络模型，将系统日志建模为自然语言序列。这允许DeepLog从正常执行中自动学习日志模式，并在日志模式偏离正常执行下从日志数据训练的模型时检测异常。此外，我们演示了如何以在线方式增量更新DeepLog模型，以便它能够随着时间的推移适应新的日志模式。此外，DeepLog从底层系统日志构建工作流，以便一旦检测到异常，用户可以诊断检测到的异常并有效地执行根本原因分析

## 结构

三个部分：

- **日志密钥异常检测模型**
- **参数值异常检测模型**
- **诊断检测到的异常的工作流模型。**

![img](https://cdn.xljsci.com/literature/134331373/page3/agau7i.png)

### 训练阶段

DeepLog的训练数据**是来自==正常==系统执行路径的日志条目**

![日志解析](https://cdn.xljsci.com/literature/134331373/page3/2enzbd.png)

### 检测阶段





### 威胁模型

- 导致系统执行不当行为并因此导致系统日志中异常模式的攻击。 例如Dos，BROP
- 由于系统监控服务的日志记录活动，可能在系统日志中留下痕迹的攻击。 



> Blind Return - Oriented Programming (BROP) 是一种复杂且强大的二进制漏洞利用技术。它是在传统的 Return - Oriented Programming (ROP) 基础上发展而来的，主要用于在缺乏足够的调试信息和代码可见性的情况下，对软件中的漏洞进行利用。
>
> - 首先，攻击者需要找到一个可以触发的漏洞，比如缓冲区溢出漏洞。通过向目标程序发送大量不同长度和内容的输入，攻击者观察程序的反应，例如程序是否崩溃、在什么情况下崩溃等。这就像是在黑暗中摸索，通过不断地试探来了解目标程序的一些基本特性。
> - 当程序崩溃时，攻击者可以根据崩溃信息（如返回地址的值、寄存器的值等）来推断程序的内存布局。例如，如果程序因为访问非法内存地址而崩溃，攻击者可以通过分析这个非法地址来猜测栈的位置或者其他重要的内存区域的大致位置。

## 异常检测

### 执行路径异常

![日志密钥异常检测模型概述。](https://cdn.xljsci.com/literature/134331373/page4/xotni6.png)